<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login</title>
</head>
<body>
<p> welcome to login</p>
<input type="text" id="user" placeholder="username">
<input type="password" id="password" placeholder="password">
<input type="submit" onclick="usercheck()">
<a href="signup.html">Or sign up!</a>
<p id="error" style="color: red; font-size: 30px"></p>
<script src="socket.io/socket.io.js"></script>
<script>
    const socket = io();
    socket.on("connect", ()=>{
    });
    console.log(sessionStorage.getItem('username'))
    function usercheck(){
        let validChars = /^[A-Za-z0-9]+$/;
        let username = document.getElementById('user').value
        if (username.match(validChars)){
            socket.emit("userRequest", username)
            sessionStorage.setItem('username','' + username)
            console.log(sessionStorage.getItem('username'))
            window.location.href="main.html";
        }else {
            document.getElementById('error').innerText = "invalid characters";
            console.log("invalid characters")
        }
    }
</script>
<style>
    body{
        background-color: gray;
    }
</style>
</body>
</html>